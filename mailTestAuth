#!/usr/bin/expect

set timeout 30
proc abort {} { exit 2 }

spawn nc -C mail.dev.gee-zone.us 25
expect default abort "220 "
send "HELO dev.gee-zone.us\r"
expect default abort "\n250 "
send "AUTH LOGIN\r"
expect default abort "\n334 "
<<<<<<< HEAD
send "YWRtaW5AZGV2LmdlZS16b25lLnVzCg==\r"
expect default abort "\n334 "
send "YWRtaW51c2VyCg==\r"
=======
send "ZGlhbGxvZ0BkZXYuZ2VlLXpvbmUudXMK"
expect default abort "\n334 "
send "ZGlhbGxvZ3VzZXIK"
>>>>>>> 5766b98fe288d79c78de5913d65a0d8518eafe9a
expect default abort "\n235 "
send "MAIL FROM:diallog@dev.gee-zone.us\r"
expect default abort "\n250 "
send "RCPT TO:postmaster@dev.gee-zone.us\r"
expect default abort "\n250 "
send "DATA\r"
expect default abort "\n354 "
send "From: diallog@dev.gee-zone.us\r"
send "To: postmaster@dev.gee-zone.us\r"
send "Subject: Test\r"
send "Date: Thu, 23 Jul 2019 21:05:00 +0000\r"
send "\r"
send "Testing\r"
send ".\r"
expect default abort "\n250 "
send "QUIT\r"
